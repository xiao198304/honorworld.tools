import{J as V,S as z,K as H,ab as I,af as O,ai as G,N as i,R as e,M as n,L as c,O as s,X as a,G as v,P as x,Y as P,a1 as R,aj as W,ak as j,H as d,al as q,I as o,am as J,Z as y,an as K,ao as M,ap as X}from"./index.14a0fdd2.js";import{s as Y,c as h,a as Z}from"./function-call.aa8c3c8e.js";const Q={address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],payable:!1,type:"constructor"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}]},b={USDCToken:Q},ee={class:"text-gray-600 body-font"},te={class:"float-right mt-5 mr-5"},se={class:"ml-1 text-gray-400"},ne={class:"container px-5 py-20 mx-auto"},ae={class:"text-center mb-5"},oe={class:"my-5 font-serif font-semibold text-dark-50 leading-none text-2xl"},le={class:"mr-2"},ie={class:"text-center mb-5 pt-3"},ce={class:"text-base text-gray-400 leading-relaxed xl:w-2/4 lg:w-3/4 mx-auto"},re={class:"flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2"},pe={key:0,class:"p-2 sm:w-1/2 w-full"},ue={class:"bg-gray-100 rounded flex p-4 h-full items-center"},me={class:"title-font font-medium"},de={key:1,class:"p-2 sm:w-1/2 w-full"},ye={class:"bg-gray-100 rounded flex p-4 h-full items-center"},fe={class:"title-font font-medium mr-3"},_e={class:"flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2"},ge={key:0,class:"p-2 sm:w-1/2 w-full"},ve={class:"bg-gray-100 rounded flex p-4 h-full items-center"},xe={class:"title-font font-medium text-gray-500"},he={key:1,class:"p-2 sm:w-1/2 w-full"},be={class:"bg-gray-100 rounded flex p-4 h-full items-center"},we={class:"title-font font-medium mr-3"},Te=V({__name:"index",setup(ke){const{locale:w,t:k}=z(),f=H(!1),C=[{text:"English",locale:"en-US"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh-TW"}],S=t=>{w.value=t.locale,localStorage.setItem("LANG",t.locale)},{open:A}=M(),{address:r,isActivated:T,signer:$}=I(),{wallet:Ce,disconnect:D}=X(),{onActivated:U}=O(),E=q(),p=G(),_=()=>{E.push({name:"Nft"})};async function g(){r.value!=""&&await p.login(),p.isvip==1&&_()}U(async({address:t})=>{console.log("activate: ",t),await g()});async function N(){Y({duration:0,forbidClick:!0,message:k("common.Operation_progress")});let t=new R(b.USDCToken.address,b.USDCToken.abi,$.value);try{await(await t.transfer(W,j("9.0",6),{gasLimit:5e5})).wait()}catch{h(),Z("Error!")}h(),await g()}return(t,u)=>{const l=d("van-icon"),B=d("van-popover"),m=d("van-button"),F=d("vd-board");return o(),i(P,null,[e("section",ee,[e("div",te,[n(B,{placement:"bottom-end",theme:"dark",show:f.value,"onUpdate:show":u[0]||(u[0]=L=>f.value=L),actions:C,onSelect:S},{reference:c(()=>[n(l,{class:"ml-1 iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),e("span",se,s(t.$t("common.language")),1)]),_:1},8,["show"])]),e("div",ne,[e("div",ae,[n(l,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),e("div",oe,[e("span",le,s(t.$t("common.tiny")),1),e("span",null,s(t.$t("common.helper")),1)])]),e("div",ie,[e("p",ce,s(t.$t("login.desc")),1)]),e("div",re,[a(T)?(o(),i("div",de,[e("div",ye,[n(l,{name:"passed",class:"mr-5 text-green-600 text-2xl title-font"}),e("span",fe,s(a(J)(a(r))),1),n(m,{round:"",type:"default",size:"small",onClick:a(D),class:"text-gray-500"},{default:c(()=>[y(s(t.$t("login.disconnect")),1)]),_:1},8,["onClick"])])])):(o(),i("div",pe,[e("div",ue,[n(l,{name:"warning-o",class:"mr-5 text-red-600 text-2xl title-font"}),e("span",me,s(t.$t("login.no_login")),1)])]))]),e("div",_e,[a(p).isvip==0?(o(),i("div",ge,[e("div",ve,[n(l,{name:"vip-card-o",class:"mr-5 text-red-600 text-2xl title-font"}),e("span",xe,s(t.$t("login.need_pay")),1)])])):(o(),i("div",he,[e("div",be,[n(l,{name:"passed",class:"mr-5 text-green-600 text-2xl title-font"}),e("span",we,s(t.$t("login.is_vip")),1),n(m,{type:"primary",onClick:_},{default:c(()=>[y(s(t.$t("login.start")),1)]),_:1})])]))]),a(r)==""?(o(),v(m,{key:0,type:"primary",class:"flex mx-auto mt-16 text-lg",onClick:a(A)},{default:c(()=>[y(s(t.$t("login.connect_wallet")),1)]),_:1},8,["onClick"])):x("",!0),a(r)!=""&&a(p).isvip==0?(o(),v(m,{key:1,type:"primary",class:"flex mx-auto mt-16 text-lg",onClick:N},{default:c(()=>[y(s(t.$t("login.get_vip")),1)]),_:1})):x("",!0)])]),n(F,{connectors:a(K),dark:""},null,8,["connectors"])],64)}}});export{Te as default};
