import{J as z,S as H,K as I,ab as O,af as q,ai as G,N as i,R as t,M as a,L as c,O as n,X as s,G as x,P as h,Y as P,a1 as R,aj as W,ak as j,al as f,H as m,am as J,I as o,an as K,Z as y,ao as M,ap as X,aq as Y}from"./index.6c2a73f9.js";import{s as Z,c as b,a as Q}from"./function-call.d2cd2a41.js";const ee={address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],payable:!1,type:"constructor"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}]},k={USDCToken:ee},te={class:"text-gray-600 body-font"},ne={class:"float-right mt-5 mr-5"},se={class:"ml-1 text-gray-400"},ae={class:"container px-5 py-20 mx-auto"},oe={class:"text-center mb-5"},le={class:"my-5 font-serif font-semibold text-dark-50 leading-none text-2xl"},ie={class:"mr-2"},ce={class:"text-center mb-5 pt-3"},re={class:"text-base text-gray-400 leading-relaxed mx-auto"},pe={class:"flex flex-wrap -mx-2"},ue={key:0,class:"p-2 w-full"},de={class:"bg-gray-100 rounded flex p-4 h-full items-center"},me={class:"title-font font-medium"},ye={key:1,class:"p-2 w-full"},fe={class:"bg-gray-100 rounded flex p-4 h-full items-center"},_e={class:"title-font font-medium mr-3"},ge={class:"flex flex-wrap -mx-2"},ve={key:0,class:"p-2 w-full"},xe={class:"bg-gray-100 rounded flex p-4 h-full items-center"},he={class:"title-font font-medium text-gray-500"},be={key:1,class:"p-2 w-full"},ke={class:"bg-gray-100 rounded flex p-4 h-full items-center"},we={class:"title-font font-medium mr-3"},Te=z({__name:"index",setup(Ce){const{locale:w,t:C}=H(),_=I(!1),S=[{text:"English",locale:"en-US"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh-TW"}],$=e=>{w.value=e.locale,localStorage.setItem("LANG",e.locale)},{open:A}=X(),{address:r,isActivated:T,signer:D}=O(),{wallet:Se,disconnect:U}=Y(),{onActivated:E}=q(),N=J(),p=G(),g=()=>{N.push({name:"Nft"})};async function v(){r.value!=""&&await p.login(),p.isvip==1&&g()}E(async({address:e})=>{console.log("activate: ",e),await v()});async function B(){Z({duration:0,forbidClick:!0,message:C("common.Operation_progress")});let e=new R(k.USDCToken.address,k.USDCToken.abi,D.value);try{await(await e.transfer(W,j(f.toString(),6),{gasLimit:5e5})).wait()}catch{b(),Q("Error!")}b(),await v()}return(e,u)=>{const l=m("van-icon"),F=m("van-popover"),d=m("van-button"),L=m("vd-board");return o(),i(P,null,[t("section",te,[t("div",ne,[a(F,{placement:"bottom-end",theme:"dark",show:_.value,"onUpdate:show":u[0]||(u[0]=V=>_.value=V),actions:S,onSelect:$},{reference:c(()=>[a(l,{class:"ml-1 iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),t("span",se,n(e.$t("common.language")),1)]),_:1},8,["show"])]),t("div",ae,[t("div",oe,[a(l,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),t("div",le,[t("span",ie,n(e.$t("common.tiny")),1),t("span",null,n(e.$t("common.helper")),1)])]),t("div",ce,[t("p",re,n(e.$t("login.desc_1"))+n(s(f).toString())+n(e.$t("login.desc_2")),1)]),t("div",pe,[s(T)?(o(),i("div",ye,[t("div",fe,[a(l,{name:"passed",class:"mr-5 text-green-600 text-2xl title-font"}),t("span",_e,n(s(K)(s(r))),1),a(d,{round:"",type:"default",size:"small",onClick:s(U),class:"text-gray-500"},{default:c(()=>[y(n(e.$t("login.disconnect")),1)]),_:1},8,["onClick"])])])):(o(),i("div",ue,[t("div",de,[a(l,{name:"warning-o",class:"mr-5 text-red-600 text-2xl title-font"}),t("span",me,n(e.$t("login.no_login")),1)])]))]),t("div",ge,[s(p).isvip==0?(o(),i("div",ve,[t("div",xe,[a(l,{name:"vip-card-o",class:"mr-5 text-red-600 text-2xl title-font"}),t("span",he,n(e.$t("login.need_pay")),1)])])):(o(),i("div",be,[t("div",ke,[a(l,{name:"passed",class:"mr-5 text-green-600 text-2xl title-font"}),t("span",we,n(e.$t("login.is_vip")),1),a(d,{type:"primary",onClick:g},{default:c(()=>[y(n(e.$t("login.start")),1)]),_:1})])]))]),s(r)==""?(o(),x(d,{key:0,type:"primary",class:"flex mx-auto mt-16 text-lg",onClick:s(A)},{default:c(()=>[y(n(e.$t("login.connect_wallet")),1)]),_:1},8,["onClick"])):h("",!0),s(r)!=""&&s(p).isvip==0?(o(),x(d,{key:1,type:"primary",class:"flex mx-auto mt-16 text-lg",onClick:B},{default:c(()=>[y(n(e.$t("login.get_vip_1"))+n(s(f).toString())+n(e.$t("login.get_vip_2")),1)]),_:1})):h("",!0)])]),a(L,{connectors:s(M),dark:""},null,8,["connectors"])],64)}}});export{Te as default};
