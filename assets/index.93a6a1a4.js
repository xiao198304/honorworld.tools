import{P as q,H as i,I as o,a0 as d,Y as c,aj as E,Z as t,$ as n,G as y,W as l,a1 as k,a2 as C,X as a,K as Y,Q,R as B,ap as X,ax as Z,aA as J,a4 as I,av as ee,aB as x,aC as te,aD as ne,aE as ae,a3 as se,aF as oe,aG as ie,aH as ce,ai as le}from"./index.2d28162b.js";import{a as F,c as S,s as re}from"./function-call.a4569109.js";const ue={address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],payable:!1,type:"constructor"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}]},N={USDCToken:ue},pe={class:"-mt-3"},me={class:"text-gray-800 font-bold text-2xl pr-2"},de={class:"text-gray-500 text-base pl-1"},ye={class:"text-gray-500 text-xs pb-1"},fe=q({__name:"VipCard",props:{item:{type:Object,required:!0,default:()=>{}},changevip:{type:Number,required:!0,default:3}},emits:["changeVipItem"],setup(s,{emit:w}){const f=s,_=()=>{w("changeVipItem",f.item.itemType)};return(V,r)=>{const T=i("van-icon"),$=i("van-tag");return o(),d("div",{class:E(["m-2 rounded bg-gray-200 text-center",s.changevip==s.item.itemType?"text-"+s.item.color+"-800  border-1 border-"+s.item.color+"-800":"text-"+s.item.color+"-500"]),onClick:_},[c(T,{class:E(["iconfont",s.item.itemType==5?"pl-4":"pl-1"]),"class-prefix":"ali-icon",name:"vip"+s.item.itemType,size:"2.5rem"},null,8,["name","class"]),t("div",pe,[t("span",me,"$"+n(s.item.price),1),s.item.discount<10?(o(),y($,{key:0,type:"primary",class:"text-lg",color:s.item.rgb},{default:l(()=>[k(n(s.item.discount)+"\u6298",1)]),_:1},8,["color"])):C("",!0)]),t("div",null,[t("span",de,n(s.item.description),1)]),t("div",ye,n(a(Y)().format("YYYY-MM-DD"))+"\u81F3"+n(a(Y)().add(s.item.itemDay,"day").format("YYYY-MM-DD")),1)],2)}}}),_e={class:"text-gray-600 body-font"},ve={class:"float-left mt-5 ml-5"},ge={key:0},he={class:"bg-gray-100 rounded flex h-full items-center"},be={class:"title-font font-medium"},xe={key:1},ke={class:"bg-gray-100 rounded flex h-full items-center"},Ce={class:"title-font font-medium mr-3"},we={class:"float-right mt-5 mr-5"},Te={class:"ml-1 text-gray-400"},$e={class:"container px-5 py-16 mx-auto"},De={class:"text-center mb-2"},Ae={class:"my-2 font-serif font-semibold text-dark-50 leading-none text-2xl"},Se={class:"mr-2"},Ve={class:"text-center pt-1"},Ue={class:"text-base text-gray-400 leading-relaxed mx-auto"},Ie=q({__name:"index",setup(s){const{locale:w,t:f}=Q(),_=B(!1),V=[{text:"English",locale:"en-US"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh-TW"}],r=B(3),T=e=>r.value=e,$=e=>{w.value=e.locale,localStorage.setItem("LANG",e.locale)},{open:z}=ie(),{address:p,isActivated:R,signer:H}=X(),{wallet:Ee,disconnect:L}=ce(),{onActivated:M}=Z(),D=le(),v=J(),j=()=>{let e="/nft/callhero";D.currentRoute.value.query.redirect&&(e=D.currentRoute.value.query.redirect),D.push({path:e})};async function U(){p.value!=""&&(F({duration:0,message:f("common.Updating_data")}),await v.login(),S()),v.isvip==1&&j()}M(async({address:e})=>{await U()});async function G(){F({duration:0,forbidClick:!0,message:f("common.Operation_progress")});let e=new ee(N.USDCToken.address,N.USDCToken.abi,H.value);try{let m=x.find(h=>h.itemType==r.value).price;await(await e.transfer(te,ne(m.toString(),6))).wait()}catch{S(),re("Error!")}S(),await U()}return(e,m)=>{const g=i("van-button"),h=i("van-icon"),O=i("van-popover"),P=i("van-col"),W=i("van-row"),K=i("vd-board");return o(),d(I,null,[t("section",_e,[t("div",ve,[a(R)?(o(),d("div",xe,[t("div",ke,[t("span",Ce,n(a(ae)(a(p))),1),c(g,{round:"",type:"default",size:"small",onClick:a(L),class:"text-gray-500"},{default:l(()=>[k(n(e.$t("login.disconnect")),1)]),_:1},8,["onClick"])])])):(o(),d("div",ge,[t("div",he,[t("span",be,n(e.$t("login.no_login")),1)])]))]),t("div",we,[c(O,{placement:"bottom-end",theme:"dark",show:_.value,"onUpdate:show":m[0]||(m[0]=u=>_.value=u),actions:V,onSelect:$},{reference:l(()=>[c(h,{class:"ml-1 iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),t("span",Te,n(e.$t("common.language")),1)]),_:1},8,["show"])]),t("div",$e,[t("div",De,[c(h,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),t("div",Ae,[t("span",Se,n(e.$t("common.tiny")),1),t("span",null,n(e.$t("common.helper")),1)])]),t("div",Ve,[t("p",Ue,n(e.$t("login.desc")),1)]),a(p)==""?(o(),y(g,{key:0,type:"primary",class:"flex mx-auto mt-12 text-lg",onClick:a(z)},{default:l(()=>[k(n(e.$t("login.connect_wallet")),1)]),_:1},8,["onClick"])):C("",!0),a(p)!=""&&a(v).isvip==0?(o(),y(g,{key:1,type:"primary",class:"flex mx-auto mt-2 text-lg",onClick:G},{default:l(()=>{var u,b;return[k(n(e.$t("login.get_vip_1"))+n((u=a(x).find(A=>A.itemType==r.value))==null?void 0:u.description)+n(e.$t("login.get_vip_2"))+n((b=a(x).find(A=>A.itemType==r.value))==null?void 0:b.price)+n(e.$t("login.get_vip_3")),1)]}),_:1})):C("",!0),a(p)!=""&&a(v).isvip==0?(o(),y(W,{key:2,class:"pt-2"},{default:l(()=>[(o(!0),d(I,null,se(a(x),(u,b)=>(o(),y(P,{key:b,span:"12"},{default:l(()=>[c(fe,{item:u,changevip:r.value,onChangeVipItem:T},null,8,["item","changevip"])]),_:2},1024))),128))]),_:1})):C("",!0)])]),c(K,{connectors:a(oe),dark:""},null,8,["connectors"])],64)}}});export{Ie as default};
