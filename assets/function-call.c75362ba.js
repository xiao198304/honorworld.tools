import{a4 as m,P as g,a5 as h,a6 as r,a7 as v,a8 as y,O,a9 as C,aa as w,U as b,ab as x,ac as M}from"./index.589a9aad.js";function P(){const e=g({show:!1}),t=s=>{e.show=s},n=s=>{r(e,s,{transitionAppear:!0}),t(!0)},a=()=>t(!1);return h({open:n,close:a,toggle:t}),{open:n,close:a,state:e,toggle:t}}function T(e){const t=m(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const k={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let o=[],E=!1,i=r({},k);const I=new Map;function l(e){return y(e)?e:{message:e}}function S(){const{instance:e,unmount:t}=T({setup(){const n=O(""),{open:a,state:s,close:u,toggle:p}=P(),d=()=>{},f=()=>b(M,x(s,{onClosed:d,"onUpdate:show":p}),null);return C(n,c=>{s.message=c}),w().render=f,{open:a,close:u,message:n}}});return e}function A(){if(!o.length||E){const e=S();o.push(e)}return o[o.length-1]}function N(e={}){if(!v)return{};const t=A(),n=l(e);return t.open(r({},i,I.get(n.type||i.type),n)),t}const U=e=>t=>N(r({type:e},l(t))),q=U("loading"),z=e=>{o.length&&(e?(o.forEach(t=>{t.close()}),o=[]):o[0].close())};export{q as a,z as c,N as s};
