import{O as K,P as M,Q as S,al as O,ax as Q,aB as X,ac as Y,G as f,J as t,Z as o,K as s,H as c,I as i,V as g,a0 as w,L as E,X as V,Y as C,av as Z,aC as U,aD as h,aE as j,aF as ee,W as te,M as l,N as a,aG as oe,$ as b,a1 as se,aH as ae,aI as ne,aJ as ce,ae as ie,aK as le}from"./index.eca9a6c2.js";const re={class:"text-gray-600 body-font"},de={class:"float-left mt-5 ml-5"},ue={key:0},me={class:"bg-gray-100 rounded flex h-full items-center"},pe={class:"title-font font-medium"},_e={key:1},ve={class:"bg-gray-100 rounded flex h-full items-center"},fe={class:"title-font font-medium mr-3"},ge={class:"float-right mt-5 mr-5"},he={class:"ml-1 text-gray-400"},ye={class:"container px-5 py-16 mx-auto"},ke={class:"text-center mb-2"},xe={class:"my-2 font-serif font-semibold text-dark-50 leading-none text-2xl"},we={class:"mr-2"},Ce={class:"text-center pt-1"},be={class:"text-base text-gray-400 leading-relaxed mx-auto"},Ee=K({__name:"index",setup($e){const{locale:B,t:$}=M(),T=S(!1),D=[{text:"English",locale:"en-US"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh-TW"}],r=S(3),I=e=>r.value=e,N=e=>{B.value=e.locale,localStorage.setItem("LANG",e.locale)},{open:A}=ne(),{address:d,isActivated:L,signer:q}=O(),{wallet:Te,disconnect:H}=ce(),{onActivated:R}=Q(),y=ie(),m=X(),z=()=>{let e="/home";y.currentRoute.value.query.redirect&&(e=y.currentRoute.value.query.redirect),y.push({path:e})};async function k(){d.value!=""&&(V({duration:0,message:$("common.Updating_data")}),await m.login(),C()),m.isvip==1&&z()}R(async({address:e})=>{await k()}),Y(async()=>{await k()});async function F(){V({duration:0,forbidClick:!0,message:$("common.Operation_progress")});let e=new Z(U.USDCToken.address,U.USDCToken.abi,q.value);try{let u=h.find(_=>_.itemType==r.value).price;await(await e.transfer(j,ee(u.toString(),6))).wait()}catch{C(),te("Error!")}C(),await k()}return(e,u)=>{const p=l("van-button"),_=l("van-icon"),G=l("van-popover"),P=l("van-col"),W=l("van-row"),J=l("vd-board");return a(),f(E,null,[t("section",re,[t("div",de,[o(L)?(a(),f("div",_e,[t("div",ve,[t("span",fe,s(o(oe)(o(d))),1),c(p,{round:"",type:"default",size:"small",onClick:o(H),class:"text-gray-500"},{default:i(()=>[b(s(e.$t("login.disconnect")),1)]),_:1},8,["onClick"])])])):(a(),f("div",ue,[t("div",me,[t("span",pe,s(e.$t("login.no_login")),1)])]))]),t("div",ge,[c(G,{placement:"bottom-end",theme:"dark",show:T.value,"onUpdate:show":u[0]||(u[0]=n=>T.value=n),actions:D,onSelect:N},{reference:i(()=>[c(_,{class:"ml-1 iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),t("span",he,s(e.$t("common.language")),1)]),_:1},8,["show"])]),t("div",ye,[t("div",ke,[c(_,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),t("div",xe,[t("span",we,s(e.$t("common.tiny")),1),t("span",null,s(e.$t("common.helper")),1)])]),t("div",Ce,[t("p",be,s(e.$t("login.desc")),1)]),o(d)==""?(a(),g(p,{key:0,type:"primary",class:"flex mx-auto mt-12 text-lg",onClick:o(A)},{default:i(()=>[b(s(e.$t("login.connect_wallet")),1)]),_:1},8,["onClick"])):w("",!0),o(d)!=""&&o(m).isvip==0?(a(),g(p,{key:1,type:"primary",class:"flex mx-auto mt-2 text-lg",onClick:F},{default:i(()=>{var n,v;return[b(s(e.$t("login.get_vip_1"))+s((n=o(h).find(x=>x.itemType==r.value))==null?void 0:n.description)+s(e.$t("login.get_vip_2"))+s((v=o(h).find(x=>x.itemType==r.value))==null?void 0:v.price)+s(e.$t("login.get_vip_3")),1)]}),_:1})):w("",!0),o(d)!=""&&o(m).isvip==0?(a(),g(W,{key:2,class:"pt-2"},{default:i(()=>[(a(!0),f(E,null,se(o(h),(n,v)=>(a(),g(P,{key:v,span:"12"},{default:i(()=>[c(le,{item:n,changevip:r.value,onChangeVipItem:I},null,8,["item","changevip"])]),_:2},1024))),128))]),_:1})):w("",!0)])]),c(J,{connectors:o(ae),dark:""},null,8,["connectors"])],64)}}});export{Ee as default};
