import{P as q,H as i,I as o,a0 as m,Y as c,aj as E,Z as t,$ as n,G as d,W as l,a1 as h,a2 as x,X as a,K as I,Q,R as Y,ap as X,ax as Z,aA as J,a4 as B,av as ee,aB as te,aC as ne,aD as ae,aE as se,a3 as oe,aF as D,aG as ie,aH as ce,aI as le,ai as re}from"./index.c121aff1.js";import{a as F,c as A,s as ue}from"./function-call.c936c913.js";const pe={address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],payable:!1,type:"constructor"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"}]},N={USDCToken:pe},me={class:"text-center"},de={class:"text-gray-800 font-bold text-2xl pr-2"},ye={class:"text-center my-2"},fe={class:"text-gray-500 text-base pl-1"},_e={class:"text-gray-500 text-sm pb-3"},ve=q({__name:"VipCard",props:{item:{type:Object,required:!0,default:()=>{}},changevip:{type:Number,required:!0,default:3}},emits:["changeVipItem"],setup(s,{emit:b}){const y=s,f=()=>{b("changeVipItem",y.item.itemType)};return(S,u)=>{const k=i("van-icon"),C=i("van-tag");return o(),m("div",{class:E(["m-2 rounded bg-gray-200",s.changevip==s.item.itemType?"text-"+s.item.color+"-800  border-1 border-"+s.item.color+"-800":"text-"+s.item.color+"-500"]),onClick:f},[c(k,{class:E(["iconfont text-center",s.item.itemType==5?"pl-4":"pl-1"]),"class-prefix":"ali-icon",name:"vip"+s.item.itemType,size:"3rem"},null,8,["name","class"]),t("div",me,[t("span",de,"$"+n(s.item.price),1),s.item.discount<10?(o(),d(C,{key:0,type:"primary",class:"text-lg",color:s.item.rgb},{default:l(()=>[h(n(s.item.discount)+"\u6298",1)]),_:1},8,["color"])):x("",!0)]),t("div",ye,[t("span",fe,n(s.item.description),1)]),t("div",_e,n(a(I)().format("YYYY-MM-DD"))+"\u81F3"+n(a(I)().add(s.item.itemDay,"day").format("YYYY-MM-DD")),1)],2)}}}),ge={class:"text-gray-600 body-font"},he={class:"float-left mt-5 ml-5"},xe={key:0},be={class:"bg-gray-100 rounded flex h-full items-center"},ke={class:"title-font font-medium"},Ce={key:1},we={class:"bg-gray-100 rounded flex h-full items-center"},$e={class:"title-font font-medium mr-3"},Te={class:"float-right mt-5 mr-5"},De={class:"ml-1 text-gray-400"},Ae={class:"container px-5 py-16 mx-auto"},Se={class:"text-center mb-2"},Ve={class:"my-2 font-serif font-semibold text-dark-50 leading-none text-2xl"},Ue={class:"mr-2"},Ee={class:"text-center pt-1"},Ie={class:"text-base text-gray-400 leading-relaxed mx-auto"},Ne=q({__name:"index",setup(s){const{locale:b,t:y}=Q(),f=Y(!1),S=[{text:"English",locale:"en-US"},{text:"\u7E41\u4F53\u4E2D\u6587",locale:"zh-TW"}],u=Y(3),k=e=>u.value=e,C=e=>{b.value=e.locale,localStorage.setItem("LANG",e.locale)},{open:z}=ce(),{address:p,isActivated:R,signer:H}=X(),{wallet:Ye,disconnect:L}=le(),{onActivated:M}=Z(),w=re(),_=J(),j=()=>{let e="/nft/callhero";w.currentRoute.value.query.redirect&&(e=w.currentRoute.value.query.redirect),w.push({path:e})};async function V(){p.value!=""&&(F({duration:0,message:y("common.Updating_data")}),await _.login(),A()),_.isvip==1&&j()}M(async({address:e})=>{await V()});async function G(){F({duration:0,forbidClick:!0,message:y("common.Operation_progress")});let e=new ee(N.USDCToken.address,N.USDCToken.abi,H.value);try{await(await e.transfer(te,ne(ae.toString(),6))).wait()}catch{A(),ue("Error!")}A(),await V()}return(e,v)=>{const $=i("van-button"),U=i("van-icon"),O=i("van-popover"),P=i("van-col"),W=i("van-row"),K=i("vd-board");return o(),m(B,null,[t("section",ge,[t("div",he,[a(R)?(o(),m("div",Ce,[t("div",we,[t("span",$e,n(a(se)(a(p))),1),c($,{round:"",type:"default",size:"small",onClick:a(L),class:"text-gray-500"},{default:l(()=>[h(n(e.$t("login.disconnect")),1)]),_:1},8,["onClick"])])])):(o(),m("div",xe,[t("div",be,[t("span",ke,n(e.$t("login.no_login")),1)])]))]),t("div",Te,[c(O,{placement:"bottom-end",theme:"dark",show:f.value,"onUpdate:show":v[0]||(v[0]=r=>f.value=r),actions:S,onSelect:C},{reference:l(()=>[c(U,{class:"ml-1 iconfont","class-prefix":"ali-icon",name:"lvzhou_yuyanqiehuan"}),t("span",De,n(e.$t("common.language")),1)]),_:1},8,["show"])]),t("div",Ae,[t("div",Se,[c(U,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),t("div",Ve,[t("span",Ue,n(e.$t("common.tiny")),1),t("span",null,n(e.$t("common.helper")),1)])]),t("div",Ee,[t("p",Ie,n(e.$t("login.desc")),1)]),a(p)!=""&&a(_).isvip==0?(o(),d(W,{key:0,class:"pt-2"},{default:l(()=>[(o(!0),m(B,null,oe(a(D),(r,g)=>(o(),d(P,{key:g,span:"12"},{default:l(()=>[c(ve,{item:r,changevip:u.value,onChangeVipItem:k},null,8,["item","changevip"])]),_:2},1024))),128))]),_:1})):x("",!0),a(p)==""?(o(),d($,{key:1,type:"primary",class:"flex mx-auto mt-12 text-lg",onClick:a(z)},{default:l(()=>[h(n(e.$t("login.connect_wallet")),1)]),_:1},8,["onClick"])):x("",!0),a(p)!=""&&a(_).isvip==0?(o(),d($,{key:2,type:"primary",class:"flex mx-auto mt-2 text-lg",onClick:G},{default:l(()=>{var r,g;return[h(n(e.$t("login.get_vip_1"))+n((r=a(D).find(T=>T.itemType==u.value))==null?void 0:r.description)+n(e.$t("login.get_vip_2"))+n((g=a(D).find(T=>T.itemType==u.value))==null?void 0:g.price)+n(e.$t("login.get_vip_3")),1)]}),_:1})):x("",!0)])]),c(K,{connectors:a(ie),dark:""},null,8,["connectors"])],64)}}});export{Ne as default};
