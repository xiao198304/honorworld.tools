import{O as U,P as V,af as R,Q as w,R as v,ag as A,T as Z,U as z,G as F,H as s,I as t,V as y,Z as m,L as T,M as H,X as G,a2 as E,a7 as B,Y as K,a8 as Q,N as p,J as e,K as l,$ as r,a1 as S}from"./index.348ac05b.js";import{_ as L}from"./DataCell.vue_vue_type_script_setup_true_lang.0f491149.js";import{_ as N}from"./AddressLabel.vue_vue_type_style_index_0_lang.15b8f1f9.js";import{u as X}from"./hero.7988bec0.js";const q=e("div",{style:{width:"90%"},class:"text-gray-400 text-sm text-left mt-2"},"\u5F53\u524D\u9500\u552E\u5C9B\u5C7F\u6570\u91CF",-1),j={style:{width:"90%"},class:"mt-4 ml-2"},tt={class:"text-orange-400 text-5xl"},st={class:"text-left mt-2"},et=e("span",{class:"text-gray-400 text-sm"},"$ETH:",-1),at={class:"text-black-500 text-sm ml-1"},lt={class:"text-left mt-2"},ot=e("span",{class:"text-gray-400 text-sm"},"\u8CEC\u865F\u6578:",-1),nt={class:"text-black-500 text-sm ml-1"},rt={class:"text-left mt-2"},ct=e("span",{class:"text-gray-400 text-sm"},"\u68A6\u5883/\u7FE1\u7FE0:",-1),dt={class:"text-black-500 text-sm ml-1"},ut={class:"text-black-400 text-sm ml-1"},_t=r("\u6392\u540D"),it=r("\u6B21\u6570"),mt=r("\u68A6\u5883+\u7FE1\u7FE0 /\u5408\u8BA1"),pt={class:"text-gray-400 pl-1"},ft=r(),xt={class:"text-gray-600 pl-1"},ht=e("div",{style:{width:"90%"},class:"text-gray-400 text-sm text-left mt-2"},"\u5F53\u524D\u71C3\u70E7Hwt\u6570\u91CF",-1),yt={style:{width:"90%"},class:"mt-2"},Ct={class:"text-orange-400 text-3xl"},gt={class:"text-left mt-2"},Dt=e("span",{class:"text-gray-400 text-sm"},"\u8CEC\u865F\u6578:",-1),vt={class:"text-black-500 text-sm ml-1"},bt={class:"text-left mt-2"},kt=e("span",{class:"text-gray-400 text-sm"},"$DC:",-1),wt={class:"text-black-500 text-sm ml-1"},At=r("\u6392\u540D"),Ft=r("\u71C3\u71D2\u83B7\u5F97DC"),Tt=r("\u9996\u6B21\u91CA\u653E/\u7A7A\u6295DC"),Ht={class:"text-gray-400 pl-1"},Nt=U({__name:"index",setup(Bt){const{t:M}=V(),g=X(),$=new R("https://mainnet.era.zksync.io"),J=w("");w("");let C=null;const b=[0,0,1,3,9,30],u=v({alldream:0,selldream:0,alluser:0,alleth:"0"});let i=v({last:[],boss:[],airarr:[],dream:[]}),D=v({last:5,boss:5,airarr:5,dream:5});const O=d=>D.airarr=d,W=d=>D.dream=d,x=v({totalDCAmount_:0,maxDC_:0,totalHWT_:0,endtime:""});A.filters.Subscribed(),w(!1),Z(async()=>{await Y()}),z(async()=>{A.removeAllListeners(),C&&clearInterval(C)});const Y=async()=>{G({duration:0,message:M("common.Updating_data")}),C&&clearInterval(C),C=setInterval(()=>{J.value=E().format("MM-DDTHH:mm:ss")});let d=await A.getInfo();console.log(d),x.totalDCAmount_=parseInt(B(d.totalDCAmount_,"ether")),x.totalHWT_=parseInt(B(d.totalHWT_,"ether")),x.endtime=E.unix(parseInt(d.endtime_)).format("YYYY-MM-DDTHH:mm"),await g.initAirdrop(),i.airarr=JSON.parse(JSON.stringify(g.airdrop.data)),await g.initPresale(),i.dream=await P(g.presale.data),K()},P=async d=>{let I=JSON.parse(JSON.stringify(d)),a=0,_=0,f=I.reduce((n,c)=>{let h=-1;if(n.length&&(h=n.findIndex(k=>k.address==c.address)),h>=0)n[h].code++,n[h].count+=c.totalCount,n[h].totalCount=b[c.code]*c.count+c.totalCount+n[h].totalCount;else{let k={address:c.address,code:1,count:c.totalCount,totalCount:c.totalCount+b[c.code]*c.count};n.push(k)}return a+=c.totalCount,_=b[c.code]*c.count+c.totalCount+_,n},[]);f=f.sort(Q("totalCount")).reverse(),u.alluser=f.length,u.alldream=_,u.selldream=a;let o=await $.getBalance("0xC29A859DebaAb8C80034Fe6087b096513d5682Bd");return u.alleth=parseFloat(B(o,"ether")).toFixed(2),console.log(f.length),f};return(d,I)=>{const a=H("van-col"),_=H("van-row"),f=H("van-cell-group");return p(),F(T,null,[s(f,{inset:"",class:"mt-2"},{default:t(()=>[s(_,{class:"py-2 ml-2"},{default:t(()=>[s(a,{span:"12"},{default:t(()=>[q,e("div",j,[e("span",tt,l(u.alldream),1)])]),_:1}),s(a,{span:"12"},{default:t(()=>[e("div",st,[et,e("span",at,l(u.alleth),1)]),e("div",lt,[ot,e("span",nt,l(u.alluser),1)]),e("div",rt,[ct,e("span",dt,l(u.selldream),1),e("span",ut,"/"+l(u.alldream-u.selldream),1)])]),_:1})]),_:1})]),_:1}),(p(),y(L,{title:"\u8D2D\u5C9B\u6392\u884C\u699C",listLength:m(i).dream.length,onChangeCount:W,key:"dream"+m(i).dream.length},{default:t(()=>[s(_,{justify:"center",class:"my-2 text-center"},{default:t(()=>[s(a,{span:"3",class:"text-base text-gray-500"},{default:t(()=>[_t]),_:1}),s(a,{span:"5",class:"text-base text-gray-500 text-center"},{default:t(()=>[r(l(d.$t("callhero.list_address")),1)]),_:1}),s(a,{span:"3",class:"text-sm text-gray-500 text-center"},{default:t(()=>[it]),_:1}),s(a,{span:"13",class:"text-sm text-gray-500"},{default:t(()=>[mt]),_:1})]),_:1}),(p(!0),F(T,null,S(m(i).dream.slice(0,m(D).dream),(o,n)=>(p(),y(_,{justify:"center",class:"text-center",style:{"border-top":"thin solid #e5e7eb"},key:"dream"+o.address+n*1e3},{default:t(()=>[s(a,{span:"3",class:"py-2 text-sm"},{default:t(()=>[r(l(n+1),1)]),_:2},1024),s(a,{span:"5",class:"py-2"},{default:t(()=>[(p(),y(N,{address:o.address,key:"dream"+o.address+n*1e3},null,8,["address"]))]),_:2},1024),s(a,{span:"3",class:"py-2"},{default:t(()=>[r(l(o.code),1)]),_:2},1024),s(a,{span:"13",class:"py-2"},{default:t(()=>[r(l(o.count),1),e("span",pt,"+"+l(o.totalCount-o.count),1),ft,e("span",xt,"/"+l(o.totalCount),1)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["listLength"])),s(f,{inset:"",class:"mt-2"},{default:t(()=>[s(_,{class:"py-2 ml-2"},{default:t(()=>[s(a,{span:"12"},{default:t(()=>[ht,e("div",yt,[e("span",Ct,l(x.totalHWT_),1)])]),_:1}),s(a,{span:"12"},{default:t(()=>[e("div",gt,[Dt,e("span",vt,l(m(i).airarr.length),1)]),e("div",bt,[kt,e("span",wt,l(x.totalDCAmount_),1)])]),_:1})]),_:1})]),_:1}),(p(),y(L,{title:"\u71C3\u71D2\u6392\u884C\u699C",listLength:m(i).airarr.length,onChangeCount:O,key:"airarr"+m(i).airarr.length},{default:t(()=>[s(_,{justify:"center",class:"my-2 text-center"},{default:t(()=>[s(a,{span:"3",class:"text-base text-gray-500"},{default:t(()=>[At]),_:1}),s(a,{span:"5",class:"text-base text-gray-500"},{default:t(()=>[r(l(d.$t("callhero.list_address")),1)]),_:1}),s(a,{span:"6",class:"text-sm text-gray-500"},{default:t(()=>[Ft]),_:1}),s(a,{span:"10",class:"text-sm text-gray-500"},{default:t(()=>[Tt]),_:1})]),_:1}),(p(!0),F(T,null,S(m(i).airarr.slice(0,m(D).airarr),(o,n)=>(p(),y(_,{justify:"center",class:"text-center",style:{"border-top":"thin solid #e5e7eb"},key:"airarr"+o.address+n*1e3},{default:t(()=>[s(a,{span:"3",class:"py-2 text-sm"},{default:t(()=>[r(l(n+1),1)]),_:2},1024),s(a,{span:"5",class:"py-2"},{default:t(()=>[(p(),y(N,{address:o.address,key:"airarr"+o.address+n*1e3},null,8,["address"]))]),_:2},1024),s(a,{span:"6",class:"py-2"},{default:t(()=>[r(l(Math.floor(o.burnHwt*(x.totalDCAmount_/x.totalHWT_))),1)]),_:2},1024),s(a,{span:"10",class:"py-2"},{default:t(()=>[r(l(Math.floor(o.airdropDc*.4)),1),e("span",Ht,"/"+l(o.airdropDc),1)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["listLength"]))],64)}}});export{Nt as default};
